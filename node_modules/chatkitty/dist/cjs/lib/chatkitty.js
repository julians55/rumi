"use strict";
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.ChatKittyImpl = void 0;
var rxjs_1 = require("rxjs");
var operators_1 = require("rxjs/operators");
var environment_1 = require("../environment/environment");
var stompx_1 = __importDefault(require("../stompx"));
var channel_1 = require("./channel");
var chat_session_1 = require("./chat-session");
var current_user_1 = require("./current-user");
var event_1 = require("./event");
var file_1 = require("./file");
var message_1 = require("./message");
var pagination_1 = require("./pagination");
var reaction_1 = require("./reaction");
var read_receipt_1 = require("./read-receipt");
var result_1 = require("./result");
var thread_1 = require("./thread");
var user_1 = require("./user");
var user_block_list_item_1 = require("./user-block-list-item");
var user_session_1 = require("./user-session");
var ChatKittyImpl = /** @class */ (function () {
    function ChatKittyImpl(configuration) {
        var _this = this;
        this.configuration = configuration;
        this.currentUserSubject = new rxjs_1.BehaviorSubject(null);
        this.lostConnectionSubject = new rxjs_1.Subject();
        this.resumedConnectionSubject = new rxjs_1.Subject();
        this.chatSessions = new Map();
        this.messageMapper = new MessageMapper('');
        this.keyStrokesSubject = new rxjs_1.Subject();
        this.Calls = new (/** @class */ (function () {
            function ChatKittyCalls(kitty) {
                this.kitty = kitty;
                this.localStream = null;
                this.isMuted = false;
            }
            ChatKittyCalls.prototype.initialize = function (configuration) {
                // TODO
            };
            ChatKittyCalls.prototype.leaveCall = function () {
                // TODO
            };
            ChatKittyCalls.prototype.switchCamera = function () {
                // TODO
            };
            ChatKittyCalls.prototype.toggleMute = function () {
                // TODO
            };
            ChatKittyCalls.prototype.onParticipantAcceptedCall = function (onNextOrObserver) {
                // TODO
                return function () {
                    // TODO
                };
            };
            ChatKittyCalls.prototype.onParticipantRejectedCall = function (onNextOrObserver) {
                // TODO
                return function () {
                    // TODO
                };
            };
            ChatKittyCalls.prototype.onParticipantActive = function (onNextOrObserver) {
                // TODO
                return function () {
                    // TODO
                };
            };
            ChatKittyCalls.prototype.onParticipantLeftCall = function (onNextOrObserver) {
                // TODO
                return function () {
                    // TODO
                };
            };
            ChatKittyCalls.prototype.close = function () {
                // TODO
            };
            return ChatKittyCalls;
        }()))(this);
        this.stompX = new stompx_1.default({
            isSecure: configuration.isSecure === undefined || configuration.isSecure,
            host: configuration.host || 'api.chatkitty.com',
            isDebug: !environment_1.environment.production,
        });
        this.keyStrokesSubject
            .asObservable()
            .pipe((0, operators_1.debounceTime)(150))
            .subscribe(function (request) {
            var destination = '';
            var channel = request.channel;
            var thread = request.thread;
            if (channel) {
                destination = channel._actions.keystrokes;
            }
            if (thread) {
                destination = thread._actions.keystrokes;
            }
            _this.stompX.sendAction({
                destination: destination,
                body: {
                    keys: request.keys,
                },
            });
        });
    }
    ChatKittyImpl.getInstance = function (apiKey) {
        var instance = ChatKittyImpl._instances.get(apiKey);
        if (instance !== undefined) {
            return instance;
        }
        instance = new ChatKittyImpl({ apiKey: apiKey });
        ChatKittyImpl._instances.set(apiKey, instance);
        return instance;
    };
    ChatKittyImpl.channelRelay = function (id) {
        return '/application/v1/channels/' + id + '.relay';
    };
    ChatKittyImpl.userRelay = function (id) {
        return '/application/v1/users/' + id + '.relay';
    };
    ChatKittyImpl.prototype.startSession = function (request) {
        var _this = this;
        if (this.stompX.initialized) {
            throw new user_session_1.SessionActiveError();
        }
        return new Promise(function (resolve) {
            _this.stompX.connect({
                apiKey: _this.configuration.apiKey,
                username: request.username,
                authParams: request.authParams,
                onSuccess: function (user, writeFileGrant, readFileGrant) {
                    _this.stompX.listenToTopic({ topic: user._topics.self });
                    _this.stompX.listenToTopic({ topic: user._topics.channels });
                    _this.stompX.listenToTopic({ topic: user._topics.messages });
                    _this.stompX.listenToTopic({ topic: user._topics.notifications });
                    _this.stompX.listenToTopic({ topic: user._topics.contacts });
                    _this.stompX.listenToTopic({ topic: user._topics.participants });
                    _this.stompX.listenToTopic({ topic: user._topics.users });
                    _this.stompX.listenToTopic({ topic: user._topics.reactions });
                    _this.stompX.listenToTopic({ topic: user._topics.threads });
                    _this.stompX.listenToTopic({ topic: user._topics.calls });
                    _this.writeFileGrant = writeFileGrant;
                    _this.messageMapper = new MessageMapper(readFileGrant);
                    resolve(new user_session_1.StartedSessionResult({ user: user }));
                },
                onConnected: function (user) {
                    _this.currentUser = user;
                    _this.currentUserSubject.next(user);
                },
                onConnectionLost: function () { return _this.lostConnectionSubject.next(); },
                onConnectionResumed: function () { return _this.resumedConnectionSubject.next(); },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.endSession = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.stompX.disconnect({
                onSuccess: function () {
                    _this.currentUser = undefined;
                    _this.currentUserSubject.next(null);
                    resolve();
                },
                onError: function (e) {
                    reject(e);
                },
            });
        });
    };
    ChatKittyImpl.prototype.getCurrentUser = function () {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        return new Promise(function (resolve) {
            _this.stompX.relayResource({
                destination: currentUser._relays.self,
                onSuccess: function (user) {
                    resolve(new current_user_1.GetCurrentUserSuccessfulResult(user));
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.onCurrentUserChanged = function (onNextOrObserver) {
        var subscription = this.currentUserSubject.subscribe(function (user) {
            if (typeof onNextOrObserver === 'function') {
                onNextOrObserver(user);
            }
            else {
                onNextOrObserver.onNext(user);
            }
        });
        return function () { return subscription.unsubscribe(); };
    };
    ChatKittyImpl.prototype.onCurrentUserOnline = function (onNextOrObserver) {
        var _this = this;
        var subscription = this.resumedConnectionSubject.subscribe(function () {
            if (typeof onNextOrObserver === 'function') {
                onNextOrObserver();
            }
            else {
                if (_this.currentUser) {
                    onNextOrObserver.onNext(_this.currentUser);
                }
            }
        });
        return function () { return subscription.unsubscribe(); };
    };
    ChatKittyImpl.prototype.onCurrentUserOffline = function (onNextOrObserver) {
        var _this = this;
        var subscription = this.lostConnectionSubject.subscribe(function () {
            if (typeof onNextOrObserver === 'function') {
                onNextOrObserver();
            }
            else {
                if (_this.currentUser) {
                    onNextOrObserver.onNext(_this.currentUser);
                }
            }
        });
        return function () { return subscription.unsubscribe(); };
    };
    ChatKittyImpl.prototype.updateCurrentUser = function (update) {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: currentUser._actions.update,
                body: update(currentUser),
                onSuccess: function (user) {
                    _this.currentUserSubject.next(user);
                    resolve(new current_user_1.UpdatedCurrentUserResult(user));
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.updateCurrentUserDisplayPicture = function (request) {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        return new Promise(function (resolve) {
            var file = request.file;
            if (file.uri) {
                _this.stompX.sendToStream({
                    stream: currentUser._streams.displayPicture,
                    grant: _this.writeFileGrant,
                    file: file,
                    onSuccess: function (user) {
                        resolve(new current_user_1.UpdatedCurrentUserDisplayPictureResult(user));
                    },
                    onError: function (error) {
                        resolve(new result_1.ChatKittyFailedResult(error));
                    },
                    progressListener: {
                        onStarted: function () { var _a, _b; return (_b = (_a = request.progressListener) === null || _a === void 0 ? void 0 : _a.onStarted) === null || _b === void 0 ? void 0 : _b.call(_a); },
                        onProgress: function (progress) { var _a; return (_a = request.progressListener) === null || _a === void 0 ? void 0 : _a.onProgress(progress); },
                        onCompleted: function () {
                            var _a;
                            return (_a = request.progressListener) === null || _a === void 0 ? void 0 : _a.onCompleted(file_1.ChatKittyUploadResult.COMPLETED);
                        },
                        onFailed: function () {
                            var _a;
                            return (_a = request.progressListener) === null || _a === void 0 ? void 0 : _a.onCompleted(file_1.ChatKittyUploadResult.FAILED);
                        },
                        onCancelled: function () {
                            var _a;
                            return (_a = request.progressListener) === null || _a === void 0 ? void 0 : _a.onCompleted(file_1.ChatKittyUploadResult.CANCELLED);
                        },
                    },
                });
            }
            else {
                _this.stompX.sendAction({
                    destination: currentUser._actions.updateDisplayPicture,
                    body: file,
                    onSuccess: function (user) {
                        resolve(new current_user_1.UpdatedCurrentUserResult(user));
                    },
                    onError: function (error) {
                        resolve(new result_1.ChatKittyFailedResult(error));
                    },
                });
            }
        });
    };
    ChatKittyImpl.prototype.updateChannel = function (request) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: request.channel._actions.update,
                body: request.channel,
                onSuccess: function (channel) {
                    resolve(new channel_1.UpdatedChannelResult(channel));
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.deleteChannel = function (request) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: request.channel._actions.delete,
                body: {},
                onSuccess: function () {
                    resolve(new channel_1.DeletedChannelResult());
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.createChannel = function (request) {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: currentUser._actions.createChannel,
                events: ['user.channel.created', 'user.channel.upserted', 'member.channel.upserted'],
                body: request,
                onSuccess: function (channel) {
                    resolve(new channel_1.CreatedChannelResult(channel));
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.getChannels = function (request) {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        return new Promise(function (resolve) {
            var _a, _b, _c, _d;
            var parameters = {};
            var relay = currentUser._relays.channels;
            if (isGetChannelsRequest(request)) {
                if (((_a = request.filter) === null || _a === void 0 ? void 0 : _a.joined) === false) {
                    relay = currentUser._relays.joinableChannels;
                }
                if (((_b = request.filter) === null || _b === void 0 ? void 0 : _b.joined) === true) {
                    parameters.subscribable = true;
                }
                if ((_c = request.filter) === null || _c === void 0 ? void 0 : _c.unread) {
                    relay = currentUser._relays.unreadChannels;
                }
            }
            var name = (_d = request === null || request === void 0 ? void 0 : request.filter) === null || _d === void 0 ? void 0 : _d.name;
            if (name) {
                parameters.name = name;
            }
            pagination_1.ChatKittyPaginator.createInstance({
                stompX: _this.stompX,
                relay: relay,
                contentName: 'channels',
                parameters: parameters,
            })
                .then(function (paginator) { return resolve(new channel_1.GetChannelsSucceededResult(paginator)); })
                .catch(function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); });
        });
    };
    ChatKittyImpl.prototype.getChannel = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.stompX.relayResource({
                destination: ChatKittyImpl.channelRelay(id),
                onSuccess: function (channel) {
                    resolve(new channel_1.GetChannelSucceededResult(channel));
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.joinChannel = function (request) {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        var destination = request.channel._actions.join;
        if (!destination) {
            throw new channel_1.ChannelNotPubliclyJoinableError(request.channel);
        }
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: destination,
                body: request,
                onSuccess: function (channel) {
                    resolve(new channel_1.JoinedChannelResult(channel));
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.leaveChannel = function (request) {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        var destination = request.channel._actions.leave;
        if (!destination) {
            throw new channel_1.NotAChannelMemberError(request.channel);
        }
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: destination,
                body: {},
                onSuccess: function (channel) {
                    resolve(new channel_1.LeftChannelResult(channel));
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.addChannelModerator = function (request) {
        var _this = this;
        var destination = request.channel._actions.addModerator;
        if (!destination) {
            throw new channel_1.CannotAddModeratorToChannelError(request.channel);
        }
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: destination,
                body: request.user,
                onSuccess: function (channel) {
                    resolve(new channel_1.AddedChannelModeratorResult(channel));
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.getUnreadChannelsCount = function (request) {
        var _this = this;
        var _a;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        var parameters = {
            unread: true,
        };
        if (isGetChannelsUnreadRequest(request)) {
            parameters.type = (_a = request.filter) === null || _a === void 0 ? void 0 : _a.type;
        }
        return new Promise(function (resolve) {
            _this.stompX.relayResource({
                destination: currentUser._relays.channelsCount,
                parameters: parameters,
                onSuccess: function (resource) {
                    resolve(new result_1.GetCountSucceedResult(resource.count));
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.getChannelUnread = function (request) {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        return new Promise(function (resolve) {
            _this.stompX.relayResource({
                destination: request.channel._relays.unread,
                onSuccess: function (resource) {
                    resolve(new channel_1.GetChannelUnreadSucceededResult(resource.exists));
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.readChannel = function (request) {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: request.channel._actions.read,
                body: {},
                onSent: function () { return resolve(new channel_1.ReadChannelSucceededResult(request.channel)); },
                onError: function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); },
            });
        });
    };
    ChatKittyImpl.prototype.muteChannel = function (request) {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: request.channel._actions.mute,
                body: {
                    state: 'ON',
                },
                onSuccess: function (channel) {
                    resolve(new channel_1.MutedChannelResult(channel));
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.unmuteChannel = function (request) {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: request.channel._actions.mute,
                body: {
                    state: 'OFF',
                },
                onSuccess: function (channel) {
                    resolve(new channel_1.UnmutedChannelResult(channel));
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.clearChannelHistory = function (request) {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: request.channel._actions.clearHistory,
                body: {},
                onSuccess: function (channel) {
                    return resolve(new channel_1.ClearChannelHistorySucceededResult(channel));
                },
                onError: function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); },
            });
        });
    };
    ChatKittyImpl.prototype.hideChannel = function (request) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: request.channel._actions.hide,
                body: {},
                onSuccess: function (resource) {
                    return resolve(new channel_1.HideChannelSucceededResult(resource));
                },
                onError: function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); },
            });
        });
    };
    ChatKittyImpl.prototype.startChatSession = function (request) {
        var _this = this;
        var onReceivedMessage = request.onReceivedMessage;
        var onReceivedKeystrokes = request.onReceivedKeystrokes;
        var onParticipantEnteredChat = request.onParticipantEnteredChat;
        var onParticipantLeftChat = request.onParticipantLeftChat;
        var onTypingStarted = request.onTypingStarted;
        var onTypingStopped = request.onTypingStopped;
        var onParticipantPresenceChanged = request.onParticipantPresenceChanged;
        var onEventTriggered = request.onEventTriggered;
        var onMessageUpdated = request.onMessageUpdated;
        var onChannelUpdated = request.onChannelUpdated;
        var onMessageRead = request.onMessageRead;
        var onMessageReactionAdded = request.onMessageReactionAdded;
        var onMessageReactionRemoved = request.onMessageReactionRemoved;
        var onThreadReceivedMessage = request.onThreadReceivedMessage;
        var onThreadReceivedKeystrokes = request.onThreadReceivedKeystrokes;
        var onThreadTypingStarted = request.onThreadTypingStarted;
        var onThreadTypingStopped = request.onThreadTypingStopped;
        var receivedMessageUnsubscribe;
        var receivedKeystrokesUnsubscribe;
        var participantEnteredChatUnsubscribe;
        var participantLeftChatUnsubscribe;
        var typingStartedUnsubscribe;
        var typingStoppedUnsubscribe;
        var participantPresenceChangedUnsubscribe;
        var eventTriggeredUnsubscribe;
        var messageUpdatedUnsubscribe;
        var channelUpdatedUnsubscribe;
        var messageReadUnsubscribe;
        var messageReactionAddedUnsubscribe;
        var messageReactionRemovedUnsubscribe;
        var threadReceivedMessageUnsubscribe;
        var threadReceivedKeystrokesUnsubscribe;
        var threadTypingStartedUnsubscribe;
        var threadTypingStoppedUnsubscribe;
        if (onReceivedMessage) {
            receivedMessageUnsubscribe = this.stompX.listenForEvent({
                topic: request.channel._topics.messages,
                event: 'channel.message.created',
                onSuccess: function (message) {
                    var destination = message._relays.parent;
                    if (destination) {
                        _this.stompX.relayResource({
                            destination: destination,
                            onSuccess: function (parent) {
                                onReceivedMessage(_this.messageMapper.map(message), _this.messageMapper.map(parent));
                            },
                        });
                    }
                    else {
                        onReceivedMessage(_this.messageMapper.map(message));
                    }
                },
            });
        }
        if (onReceivedKeystrokes) {
            receivedKeystrokesUnsubscribe = this.stompX.listenForEvent({
                topic: request.channel._topics.keystrokes,
                event: 'thread.keystrokes.created',
                onSuccess: function (keystrokes) {
                    onReceivedKeystrokes(keystrokes);
                },
            });
        }
        if (onTypingStarted) {
            typingStartedUnsubscribe = this.stompX.listenForEvent({
                topic: request.channel._topics.typing,
                event: 'thread.typing.started',
                onSuccess: function (user) {
                    onTypingStarted(user);
                },
            });
        }
        if (onTypingStopped) {
            typingStoppedUnsubscribe = this.stompX.listenForEvent({
                topic: request.channel._topics.typing,
                event: 'thread.typing.stopped',
                onSuccess: function (user) {
                    onTypingStopped(user);
                },
            });
        }
        if (onParticipantEnteredChat) {
            participantEnteredChatUnsubscribe = this.stompX.listenForEvent({
                topic: request.channel._topics.participants,
                event: 'channel.participant.active',
                onSuccess: function (user) {
                    onParticipantEnteredChat(user);
                },
            });
        }
        if (onParticipantLeftChat) {
            participantLeftChatUnsubscribe = this.stompX.listenForEvent({
                topic: request.channel._topics.participants,
                event: 'channel.participant.inactive',
                onSuccess: function (user) {
                    onParticipantLeftChat(user);
                },
            });
        }
        if (onParticipantPresenceChanged) {
            participantPresenceChangedUnsubscribe = this.stompX.listenForEvent({
                topic: request.channel._topics.participants,
                event: 'participant.presence.changed',
                onSuccess: function (user) {
                    onParticipantPresenceChanged(user);
                },
            });
        }
        if (onMessageUpdated) {
            messageUpdatedUnsubscribe = this.stompX.listenForEvent({
                topic: request.channel._topics.messages,
                event: 'thread.message.updated',
                onSuccess: function (message) {
                    onMessageUpdated(message);
                },
            });
        }
        if (onEventTriggered) {
            eventTriggeredUnsubscribe = this.stompX.listenForEvent({
                topic: request.channel._topics.events,
                event: 'channel.event.triggered',
                onSuccess: function (event) {
                    onEventTriggered(event);
                },
            });
        }
        if (onChannelUpdated) {
            channelUpdatedUnsubscribe = this.stompX.listenForEvent({
                topic: request.channel._topics.self,
                event: 'channel.self.updated',
                onSuccess: function (channel) {
                    onChannelUpdated(channel);
                },
            });
        }
        if (onMessageRead) {
            messageReadUnsubscribe = this.stompX.listenForEvent({
                topic: request.channel._topics.readReceipts,
                event: 'message.read_receipt.created',
                onSuccess: function (receipt) {
                    _this.stompX.relayResource({
                        destination: receipt._relays.message,
                        onSuccess: function (message) {
                            onMessageRead(message, receipt);
                        },
                    });
                },
            });
        }
        if (onMessageReactionAdded) {
            messageReactionAddedUnsubscribe = this.stompX.listenForEvent({
                topic: request.channel._topics.reactions,
                event: 'message.reaction.created',
                onSuccess: function (reaction) {
                    _this.stompX.relayResource({
                        destination: reaction._relays.message,
                        onSuccess: function (message) {
                            onMessageReactionAdded(message, reaction);
                        },
                    });
                },
            });
        }
        if (onMessageReactionRemoved) {
            messageReactionRemovedUnsubscribe = this.stompX.listenForEvent({
                topic: request.channel._topics.reactions,
                event: 'message.reaction.removed',
                onSuccess: function (reaction) {
                    _this.stompX.relayResource({
                        destination: reaction._relays.message,
                        onSuccess: function (message) {
                            onMessageReactionRemoved(message, reaction);
                        },
                    });
                },
            });
        }
        var end = function () {
            messageReactionRemovedUnsubscribe === null || messageReactionRemovedUnsubscribe === void 0 ? void 0 : messageReactionRemovedUnsubscribe();
            messageReactionAddedUnsubscribe === null || messageReactionAddedUnsubscribe === void 0 ? void 0 : messageReactionAddedUnsubscribe();
            messageReadUnsubscribe === null || messageReadUnsubscribe === void 0 ? void 0 : messageReadUnsubscribe();
            channelUpdatedUnsubscribe === null || channelUpdatedUnsubscribe === void 0 ? void 0 : channelUpdatedUnsubscribe();
            messageUpdatedUnsubscribe === null || messageUpdatedUnsubscribe === void 0 ? void 0 : messageUpdatedUnsubscribe();
            eventTriggeredUnsubscribe === null || eventTriggeredUnsubscribe === void 0 ? void 0 : eventTriggeredUnsubscribe();
            participantPresenceChangedUnsubscribe === null || participantPresenceChangedUnsubscribe === void 0 ? void 0 : participantPresenceChangedUnsubscribe();
            participantLeftChatUnsubscribe === null || participantLeftChatUnsubscribe === void 0 ? void 0 : participantLeftChatUnsubscribe();
            participantEnteredChatUnsubscribe === null || participantEnteredChatUnsubscribe === void 0 ? void 0 : participantEnteredChatUnsubscribe();
            typingStoppedUnsubscribe === null || typingStoppedUnsubscribe === void 0 ? void 0 : typingStoppedUnsubscribe();
            typingStartedUnsubscribe === null || typingStartedUnsubscribe === void 0 ? void 0 : typingStartedUnsubscribe();
            receivedKeystrokesUnsubscribe === null || receivedKeystrokesUnsubscribe === void 0 ? void 0 : receivedKeystrokesUnsubscribe();
            receivedMessageUnsubscribe === null || receivedMessageUnsubscribe === void 0 ? void 0 : receivedMessageUnsubscribe();
            threadReceivedMessageUnsubscribe === null || threadReceivedMessageUnsubscribe === void 0 ? void 0 : threadReceivedMessageUnsubscribe();
            threadReceivedKeystrokesUnsubscribe === null || threadReceivedKeystrokesUnsubscribe === void 0 ? void 0 : threadReceivedKeystrokesUnsubscribe();
            threadTypingStartedUnsubscribe === null || threadTypingStartedUnsubscribe === void 0 ? void 0 : threadTypingStartedUnsubscribe();
            threadTypingStoppedUnsubscribe === null || threadTypingStoppedUnsubscribe === void 0 ? void 0 : threadTypingStoppedUnsubscribe();
        };
        var channelUnsubscribe = this.stompX.listenToTopic({
            topic: request.channel._topics.self,
            onSuccess: function () {
                var messagesUnsubscribe = _this.stompX.listenToTopic({
                    topic: request.channel._topics.messages,
                });
                var keystrokesUnsubscribe = _this.stompX.listenToTopic({
                    topic: request.channel._topics.keystrokes,
                });
                var typingUnsubscribe = _this.stompX.listenToTopic({
                    topic: request.channel._topics.typing,
                });
                var participantsUnsubscribe = _this.stompX.listenToTopic({
                    topic: request.channel._topics.participants,
                });
                var readReceiptsUnsubscribe = _this.stompX.listenToTopic({
                    topic: request.channel._topics.readReceipts,
                });
                var reactionsUnsubscribe = _this.stompX.listenToTopic({
                    topic: request.channel._topics.reactions,
                });
                var eventsUnsubscribe = _this.stompX.listenToTopic({
                    topic: request.channel._topics.events,
                });
                var superEnd = end;
                end = function () {
                    superEnd();
                    eventsUnsubscribe === null || eventsUnsubscribe === void 0 ? void 0 : eventsUnsubscribe();
                    reactionsUnsubscribe === null || reactionsUnsubscribe === void 0 ? void 0 : reactionsUnsubscribe();
                    readReceiptsUnsubscribe === null || readReceiptsUnsubscribe === void 0 ? void 0 : readReceiptsUnsubscribe();
                    participantsUnsubscribe === null || participantsUnsubscribe === void 0 ? void 0 : participantsUnsubscribe();
                    typingUnsubscribe === null || typingUnsubscribe === void 0 ? void 0 : typingUnsubscribe();
                    keystrokesUnsubscribe === null || keystrokesUnsubscribe === void 0 ? void 0 : keystrokesUnsubscribe();
                    messagesUnsubscribe === null || messagesUnsubscribe === void 0 ? void 0 : messagesUnsubscribe();
                    channelUnsubscribe();
                    _this.chatSessions.delete(request.channel.id);
                };
            },
        });
        var activeThread = null;
        var session = {
            channel: request.channel,
            thread: activeThread,
            end: function () { return end(); },
            setThread: function (thread) {
                threadReceivedMessageUnsubscribe === null || threadReceivedMessageUnsubscribe === void 0 ? void 0 : threadReceivedMessageUnsubscribe();
                threadReceivedKeystrokesUnsubscribe === null || threadReceivedKeystrokesUnsubscribe === void 0 ? void 0 : threadReceivedKeystrokesUnsubscribe();
                threadTypingStartedUnsubscribe === null || threadTypingStartedUnsubscribe === void 0 ? void 0 : threadTypingStartedUnsubscribe();
                threadTypingStoppedUnsubscribe === null || threadTypingStoppedUnsubscribe === void 0 ? void 0 : threadTypingStoppedUnsubscribe();
                if (onThreadReceivedMessage) {
                    threadReceivedMessageUnsubscribe = _this.stompX.listenForEvent({
                        topic: thread._topics.messages,
                        event: 'thread.message.created',
                        onSuccess: function (message) {
                            onThreadReceivedMessage(thread, _this.messageMapper.map(message));
                        },
                    });
                }
                if (onThreadReceivedKeystrokes) {
                    threadReceivedKeystrokesUnsubscribe = _this.stompX.listenForEvent({
                        topic: thread._topics.keystrokes,
                        event: 'thread.keystrokes.created',
                        onSuccess: function (keystrokes) {
                            onThreadReceivedKeystrokes(thread, keystrokes);
                        },
                    });
                }
                if (onThreadTypingStarted) {
                    threadTypingStartedUnsubscribe = _this.stompX.listenForEvent({
                        topic: thread._topics.typing,
                        event: 'thread.typing.started',
                        onSuccess: function (user) {
                            onThreadTypingStarted(thread, user);
                        },
                    });
                }
                if (onThreadTypingStopped) {
                    threadTypingStoppedUnsubscribe = _this.stompX.listenForEvent({
                        topic: thread._topics.typing,
                        event: 'thread.typing.stopped',
                        onSuccess: function (user) {
                            onThreadTypingStopped(thread, user);
                        },
                    });
                }
                activeThread = thread;
            },
        };
        this.chatSessions.set(request.channel.id, session);
        return new chat_session_1.StartedChatSessionResult(session);
    };
    ChatKittyImpl.prototype.sendMessage = function (request) {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        return new Promise(function (resolve) {
            var destination = '';
            var stream = '';
            var sendChannelMessageRequest = request;
            if (sendChannelMessageRequest.channel !== undefined) {
                destination = sendChannelMessageRequest.channel._actions.message;
                stream = sendChannelMessageRequest.channel._streams.messages;
            }
            var sendMessageReplyRequest = request;
            if (sendMessageReplyRequest.message !== undefined) {
                destination = sendMessageReplyRequest.message._actions.reply;
                stream = sendMessageReplyRequest.message._streams.replies;
            }
            var sendThreadMessageRequest = request;
            if (sendThreadMessageRequest.thread !== undefined) {
                destination = sendThreadMessageRequest.thread._actions.message;
                stream = sendThreadMessageRequest.thread._streams.messages;
            }
            if (isSendChannelTextMessageRequest(request)) {
                _this.stompX.sendAction({
                    destination: destination,
                    body: {
                        type: 'TEXT',
                        body: request.body,
                        groupTag: request.groupTag,
                        properties: request.properties,
                    },
                    onSuccess: function (message) {
                        resolve(new message_1.SentTextMessageResult(_this.messageMapper.map(message)));
                    },
                    onError: function (error) {
                        resolve(new result_1.ChatKittyFailedResult(error));
                    },
                });
            }
            if (isSendChannelFileMessageRequest(request)) {
                var file = request.file;
                if (isCreateChatKittyExternalFileProperties(file)) {
                    _this.stompX.sendAction({
                        destination: destination,
                        body: {
                            type: 'FILE',
                            file: file,
                            groupTag: request.groupTag,
                            properties: request.properties,
                        },
                        onSuccess: function (message) {
                            resolve(new message_1.SentFileMessageResult(_this.messageMapper.map(message)));
                        },
                        onError: function (error) {
                            resolve(new result_1.ChatKittyFailedResult(error));
                        },
                    });
                }
                else {
                    var properties = new Map();
                    if (request.groupTag) {
                        properties.set('groupTag', request.groupTag);
                    }
                    if (request.properties) {
                        properties.set('properties', request.properties);
                    }
                    _this.stompX.sendToStream({
                        stream: stream,
                        grant: _this.writeFileGrant,
                        file: file,
                        properties: properties,
                        onSuccess: function (message) {
                            resolve(new message_1.SentFileMessageResult(_this.messageMapper.map(message)));
                        },
                        onError: function (error) {
                            resolve(new result_1.ChatKittyFailedResult(error));
                        },
                        progressListener: {
                            onStarted: function () { var _a, _b; return (_b = (_a = request.progressListener) === null || _a === void 0 ? void 0 : _a.onStarted) === null || _b === void 0 ? void 0 : _b.call(_a); },
                            onProgress: function (progress) { var _a; return (_a = request.progressListener) === null || _a === void 0 ? void 0 : _a.onProgress(progress); },
                            onCompleted: function () {
                                var _a;
                                return (_a = request.progressListener) === null || _a === void 0 ? void 0 : _a.onCompleted(file_1.ChatKittyUploadResult.COMPLETED);
                            },
                            onFailed: function () {
                                var _a;
                                return (_a = request.progressListener) === null || _a === void 0 ? void 0 : _a.onCompleted(file_1.ChatKittyUploadResult.FAILED);
                            },
                            onCancelled: function () {
                                var _a;
                                return (_a = request.progressListener) === null || _a === void 0 ? void 0 : _a.onCompleted(file_1.ChatKittyUploadResult.CANCELLED);
                            },
                        },
                    });
                }
            }
        });
    };
    ChatKittyImpl.prototype.getMessages = function (request) {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        var relay = '';
        var parameters = undefined;
        if (isGetChannelMessagesRequest(request)) {
            relay = request.channel._relays.messages;
            parameters = __assign({}, request.filter);
        }
        if (isGetMessageRepliesRequest(request)) {
            relay = request.message._relays.replies;
        }
        return new Promise(function (resolve) {
            pagination_1.ChatKittyPaginator.createInstance({
                stompX: _this.stompX,
                relay: relay,
                parameters: parameters,
                contentName: 'messages',
                mapper: function (message) { return _this.messageMapper.map(message); },
            })
                .then(function (paginator) { return resolve(new message_1.GetMessagesSucceededResult(paginator)); })
                .catch(function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); });
        });
    };
    ChatKittyImpl.prototype.getUnreadMessagesCount = function (request) {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        var relay = currentUser._relays.unreadMessagesCount;
        if (isGetUnreadMessagesCountRequest(request)) {
            relay = request.channel._relays.messagesCount;
        }
        return new Promise(function (resolve) {
            _this.stompX.relayResource({
                destination: relay,
                parameters: {
                    unread: true,
                },
                onSuccess: function (resource) {
                    resolve(new result_1.GetCountSucceedResult(resource.count));
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.triggerEvent = function (request) {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: request.channel._actions.triggerEvent,
                body: {
                    type: request.type,
                    properties: request.properties
                },
                onSent: function () {
                    resolve(new event_1.TriggeredEventResult(request.channel));
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.readMessage = function (request) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: request.message._actions.read,
                body: {},
                onSent: function () { return resolve(new message_1.ReadMessageSucceededResult(request.message)); },
                onError: function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); },
            });
        });
    };
    ChatKittyImpl.prototype.getLastReadMessage = function (request) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.stompX.relayResource({
                destination: request.channel._relays.lastReadMessage,
                parameters: {
                    username: request.username,
                },
                onSuccess: function (resource) {
                    resolve(new message_1.GetLastReadMessageResult(resource));
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.editMessage = function (request) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: request.message._actions.edit,
                body: {
                    body: request.body,
                },
                onSuccess: function (message) {
                    return resolve(new message_1.EditedMessageSucceededResult(message));
                },
                onError: function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); },
            });
        });
    };
    ChatKittyImpl.prototype.getMessageRepliesCount = function (request) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.stompX.relayResource({
                destination: request.message._relays.repliesCount,
                onSuccess: function (resource) {
                    resolve(new result_1.GetCountSucceedResult(resource.count));
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.getMessageChannel = function (request) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.stompX.relayResource({
                destination: request.message._relays.channel,
                onSuccess: function (resource) {
                    resolve(new message_1.GetMessageChannelSucceededResult(resource));
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.getMessageParent = function (request) {
        var _this = this;
        return new Promise(function (resolve) {
            var destination = request.message._relays.parent;
            if (!destination) {
                throw new message_1.MessageNotAReplyError(request.message);
            }
            _this.stompX.relayResource({
                destination: destination,
                onSuccess: function (resource) {
                    resolve(new message_1.GetMessageParentSucceededResult(resource));
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.createThread = function (request) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: request.channel._actions.createThread,
                body: { name: request.name, properties: request.properties },
                onSuccess: function (thread) { return resolve(new thread_1.CreatedThreadResult(thread)); },
                onError: function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); },
            });
        });
    };
    ChatKittyImpl.prototype.getThreads = function (request) {
        var _this = this;
        var _a, _b;
        var parameters = {};
        if (((_a = request.filter) === null || _a === void 0 ? void 0 : _a.includeMainThread) === false) {
            parameters.includeMainThread = false;
        }
        if (((_b = request.filter) === null || _b === void 0 ? void 0 : _b.standalone) === true) {
            parameters.standalone = true;
        }
        return new Promise(function (resolve) {
            pagination_1.ChatKittyPaginator.createInstance({
                stompX: _this.stompX,
                relay: request.channel._relays.threads,
                contentName: 'threads',
                parameters: parameters,
            })
                .then(function (paginator) {
                return resolve(new thread_1.GetThreadsSucceededResult(paginator));
            })
                .catch(function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); });
        });
    };
    ChatKittyImpl.prototype.getThreadChannel = function (request) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.stompX.relayResource({
                destination: request.thread._relays.channel,
                onSuccess: function (resource) {
                    resolve(new thread_1.GetThreadChannelSucceededResult(resource));
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.getThreadMessage = function (request) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.stompX.relayResource({
                destination: request.thread._relays.message,
                onSuccess: function (resource) {
                    resolve(new thread_1.GetThreadMessageSucceededResult(resource));
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.readThread = function (request) {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: request.thread._actions.read,
                body: {},
                onSent: function () { return resolve(new thread_1.ReadThreadSucceededResult(request.thread)); },
                onError: function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); },
            });
        });
    };
    ChatKittyImpl.prototype.reactToMessage = function (request) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: request.message._actions.react,
                body: { emoji: request.emoji },
                onSuccess: function (reaction) { return resolve(new reaction_1.ReactedToMessageResult(reaction)); },
                onError: function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); },
            });
        });
    };
    ChatKittyImpl.prototype.getReactions = function (request) {
        var _this = this;
        return new Promise(function (resolve) {
            pagination_1.ChatKittyPaginator.createInstance({
                stompX: _this.stompX,
                relay: request.message._relays.reactions,
                contentName: 'reactions',
            })
                .then(function (paginator) {
                return resolve(new reaction_1.GetReactionsSucceededResult(paginator));
            })
                .catch(function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); });
        });
    };
    ChatKittyImpl.prototype.removeReaction = function (request) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: request.message._actions.removeReaction,
                body: {
                    emoji: request.emoji,
                },
                onSuccess: function (reaction) { return resolve(new reaction_1.RemovedReactionResult(reaction)); },
                onError: function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); },
            });
        });
    };
    ChatKittyImpl.prototype.deleteMessageForMe = function (request) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: request.message._actions.deleteForMe,
                body: {},
                onSuccess: function (resource) {
                    return resolve(new message_1.DeleteMessageForMeSucceededResult(resource));
                },
                onError: function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); },
            });
        });
    };
    ChatKittyImpl.prototype.deleteMessage = function (request) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: request.message._actions.delete,
                body: {},
                onSuccess: function (resource) {
                    return resolve(new message_1.DeleteMessageSucceededResult(resource));
                },
                onError: function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); },
            });
        });
    };
    ChatKittyImpl.prototype.sendKeystrokes = function (request) {
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        this.keyStrokesSubject.next(request);
    };
    ChatKittyImpl.prototype.onNotificationReceived = function (onNextOrObserver) {
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        var unsubscribe = this.stompX.listenForEvent({
            topic: currentUser._topics.notifications,
            event: 'user.notification.created',
            onSuccess: function (notification) {
                if (typeof onNextOrObserver === 'function') {
                    onNextOrObserver(notification);
                }
                else {
                    onNextOrObserver.onNext(notification);
                }
            },
        });
        return function () { return unsubscribe; };
    };
    ChatKittyImpl.prototype.onChannelJoined = function (onNextOrObserver) {
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        var unsubscribe = this.stompX.listenForEvent({
            topic: currentUser._topics.channels,
            event: 'user.channel.joined',
            onSuccess: function (channel) {
                if (typeof onNextOrObserver === 'function') {
                    onNextOrObserver(channel);
                }
                else {
                    onNextOrObserver.onNext(channel);
                }
            },
        });
        return function () { return unsubscribe; };
    };
    ChatKittyImpl.prototype.onChannelHidden = function (onNextOrObserver) {
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        var unsubscribe = this.stompX.listenForEvent({
            topic: currentUser._topics.channels,
            event: 'user.channel.hidden',
            onSuccess: function (channel) {
                if (typeof onNextOrObserver === 'function') {
                    onNextOrObserver(channel);
                }
                else {
                    onNextOrObserver.onNext(channel);
                }
            },
        });
        return function () { return unsubscribe; };
    };
    ChatKittyImpl.prototype.onChannelUnhidden = function (onNextOrObserver) {
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        var unsubscribe = this.stompX.listenForEvent({
            topic: currentUser._topics.channels,
            event: 'user.channel.unhidden',
            onSuccess: function (channel) {
                if (typeof onNextOrObserver === 'function') {
                    onNextOrObserver(channel);
                }
                else {
                    onNextOrObserver.onNext(channel);
                }
            },
        });
        return function () { return unsubscribe; };
    };
    ChatKittyImpl.prototype.onChannelLeft = function (onNextOrObserver) {
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        var unsubscribe = this.stompX.listenForEvent({
            topic: currentUser._topics.channels,
            event: 'user.channel.left',
            onSuccess: function (channel) {
                if (typeof onNextOrObserver === 'function') {
                    onNextOrObserver(channel);
                }
                else {
                    onNextOrObserver.onNext(channel);
                }
            },
        });
        return function () { return unsubscribe; };
    };
    ChatKittyImpl.prototype.onChannelUpdated = function (onNextOrObserver) {
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        var unsubscribe = this.stompX.listenForEvent({
            topic: currentUser._topics.channels,
            event: 'user.channel.updated',
            onSuccess: function (channel) {
                if (typeof onNextOrObserver === 'function') {
                    onNextOrObserver(channel);
                }
                else {
                    onNextOrObserver.onNext(channel);
                }
            },
        });
        return function () { return unsubscribe; };
    };
    ChatKittyImpl.prototype.getChannelMembers = function (request) {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        return new Promise(function (resolve) {
            pagination_1.ChatKittyPaginator.createInstance({
                stompX: _this.stompX,
                relay: request.channel._relays.members,
                contentName: 'users',
                parameters: __assign({}, request.filter),
            })
                .then(function (paginator) { return resolve(new user_1.GetUsersSucceededResult(paginator)); })
                .catch(function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); });
        });
    };
    ChatKittyImpl.prototype.getReadReceipts = function (request) {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        return new Promise(function (resolve) {
            pagination_1.ChatKittyPaginator.createInstance({
                stompX: _this.stompX,
                relay: request.message._relays.readReceipts,
                contentName: 'receipts',
            })
                .then(function (paginator) {
                return resolve(new read_receipt_1.GetReadReceiptsSucceededResult(paginator));
            })
                .catch(function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); });
        });
    };
    ChatKittyImpl.prototype.getUsers = function (request) {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        return new Promise(function (resolve) {
            var parameters = undefined;
            if (isGetUsersRequest(request)) {
                parameters = __assign({}, request.filter);
            }
            pagination_1.ChatKittyPaginator.createInstance({
                stompX: _this.stompX,
                relay: currentUser._relays.contacts,
                contentName: 'users',
                parameters: parameters,
            })
                .then(function (paginator) { return resolve(new user_1.GetUsersSucceededResult(paginator)); })
                .catch(function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); });
        });
    };
    ChatKittyImpl.prototype.getUsersCount = function (request) {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        return new Promise(function (resolve) {
            var parameters = undefined;
            if (isGetUsersRequest(request)) {
                parameters = __assign({}, request.filter);
            }
            _this.stompX.relayResource({
                destination: currentUser._relays.contactsCount,
                parameters: parameters,
                onSuccess: function (resource) {
                    resolve(new result_1.GetCountSucceedResult(resource.count));
                },
                onError: function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); },
            });
        });
    };
    ChatKittyImpl.prototype.onUserPresenceChanged = function (onNextOrObserver) {
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        var unsubscribe = this.stompX.listenForEvent({
            topic: currentUser._topics.contacts,
            event: 'contact.presence.changed',
            onSuccess: function (user) {
                if (typeof onNextOrObserver === 'function') {
                    onNextOrObserver(user);
                }
                else {
                    onNextOrObserver.onNext(user);
                }
            },
        });
        return function () { return unsubscribe; };
    };
    ChatKittyImpl.prototype.inviteUser = function (request) {
        var _this = this;
        var destination = request.channel._actions.invite;
        if (!destination) {
            throw new channel_1.ChannelNotInvitableError(request.channel);
        }
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: destination,
                body: {
                    user: request.user,
                },
                onSuccess: function (resource) {
                    resolve(new channel_1.InvitedUserResult(resource));
                },
                onError: function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); },
            });
        });
    };
    ChatKittyImpl.prototype.onParticipantStartedTyping = function (onNextOrObserver) {
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        var unsubscribe = this.stompX.listenForEvent({
            topic: currentUser._topics.participants,
            event: 'participant.typing.started',
            onSuccess: function (participant) {
                if (typeof onNextOrObserver === 'function') {
                    onNextOrObserver(participant);
                }
                else {
                    onNextOrObserver.onNext(participant);
                }
            },
        });
        return function () { return unsubscribe; };
    };
    ChatKittyImpl.prototype.onParticipantStoppedTyping = function (onNextOrObserver) {
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        var unsubscribe = this.stompX.listenForEvent({
            topic: currentUser._topics.participants,
            event: 'participant.typing.stopped',
            onSuccess: function (participant) {
                if (typeof onNextOrObserver === 'function') {
                    onNextOrObserver(participant);
                }
                else {
                    onNextOrObserver.onNext(participant);
                }
            },
        });
        return function () { return unsubscribe; };
    };
    ChatKittyImpl.prototype.getUser = function (param) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.stompX.relayResource({
                destination: ChatKittyImpl.userRelay(param),
                onSuccess: function (user) {
                    resolve(new user_1.GetUserSucceededResult(user));
                },
            });
        });
    };
    ChatKittyImpl.prototype.getUserIsChannelMember = function (request) {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        return new Promise(function (resolve) {
            _this.stompX.relayResource({
                destination: request.user._relays.channelMember,
                parameters: {
                    channelId: request.channel.id,
                },
                onSuccess: function (resource) {
                    resolve(new user_1.GetUserIsChannelMemberSucceededResult(resource.exists));
                },
                onError: function (error) {
                    resolve(new result_1.ChatKittyFailedResult(error));
                },
            });
        });
    };
    ChatKittyImpl.prototype.blockUser = function (request) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: "/application/v1/users/" + request.user.id + ".block",
                body: {},
                onSuccess: function (resource) {
                    resolve(new user_1.BlockUserSucceededResult(resource));
                },
                onError: function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); },
            });
        });
    };
    ChatKittyImpl.prototype.getUserBlockList = function () {
        var _this = this;
        var currentUser = this.currentUser;
        if (!currentUser) {
            throw new user_session_1.NoActiveSessionError();
        }
        return new Promise(function (resolve) {
            pagination_1.ChatKittyPaginator.createInstance({
                stompX: _this.stompX,
                relay: currentUser._relays.userBlockListItems,
                contentName: 'items',
            })
                .then(function (paginator) {
                return resolve(new user_block_list_item_1.GetUserBlockListSucceededResult(paginator));
            })
                .catch(function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); });
        });
    };
    ChatKittyImpl.prototype.deleteUserBlockListItem = function (request) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.stompX.sendAction({
                destination: request.item._actions.delete,
                body: {},
                onSuccess: function (resource) {
                    return resolve(new user_block_list_item_1.DeleteUserBlockListItemSucceededResult(resource));
                },
                onError: function (error) { return resolve(new result_1.ChatKittyFailedResult(error)); },
            });
        });
    };
    ChatKittyImpl._instances = new Map();
    return ChatKittyImpl;
}());
exports.ChatKittyImpl = ChatKittyImpl;
var MessageMapper = /** @class */ (function () {
    function MessageMapper(grant) {
        this.readFileGrant = grant;
    }
    MessageMapper.prototype.map = function (message) {
        if ((0, message_1.isFileMessage)(message)) {
            return __assign(__assign({}, message), { file: __assign(__assign({}, message.file), { url: message.file.url + ("?grant=" + this.readFileGrant) }) });
        }
        else {
            return __assign({}, message);
        }
    };
    return MessageMapper;
}());
function isGetChannelsRequest(param) {
    var request = param;
    return (request === null || request === void 0 ? void 0 : request.filter) !== undefined;
}
function isGetUsersRequest(param) {
    var request = param;
    return (request === null || request === void 0 ? void 0 : request.filter) !== undefined;
}
function isGetChannelsUnreadRequest(param) {
    var request = param;
    return (request === null || request === void 0 ? void 0 : request.filter) !== undefined;
}
function isGetUnreadMessagesCountRequest(param) {
    var request = param;
    return (request === null || request === void 0 ? void 0 : request.channel) !== undefined;
}
function isSendChannelTextMessageRequest(request) {
    return request.body !== undefined;
}
function isSendChannelFileMessageRequest(request) {
    return request.file !== undefined;
}
function isGetChannelMessagesRequest(request) {
    return request.channel !== undefined;
}
function isGetMessageRepliesRequest(request) {
    return request.message !== undefined;
}
function isCreateChatKittyExternalFileProperties(result) {
    return (result.url !== undefined &&
        result.name !== undefined &&
        result.size !== undefined);
}
exports.default = ChatKittyImpl;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hhdGtpdHR5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xpYi9jaGF0a2l0dHkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw2QkFBOEM7QUFDOUMsNENBQTRDO0FBRTVDLDBEQUF1RDtBQUN2RCxxREFBK0I7QUFFL0IscUNBcURtQjtBQUNuQiwrQ0FLd0I7QUFDeEIsK0NBU3dCO0FBQ3hCLGlDQUtpQjtBQUNqQiwrQkFJZ0I7QUFPaEIscUNBMENtQjtBQUduQiwyQ0FBZ0Q7QUFDaEQsdUNBV29CO0FBQ3BCLCtDQUt3QjtBQUN4QixtQ0FJa0I7QUFDbEIsbUNBaUJrQjtBQUNsQiwrQkFhZ0I7QUFDaEIsK0RBT2dDO0FBQ2hDLCtDQU13QjtBQUV4QjtJQW9IRSx1QkFBb0MsYUFBcUM7UUFBekUsaUJBK0JDO1FBL0JtQyxrQkFBYSxHQUFiLGFBQWEsQ0FBd0I7UUF6RnhELHVCQUFrQixHQUFHLElBQUksc0JBQWUsQ0FDdkQsSUFBSSxDQUNMLENBQUM7UUFFZSwwQkFBcUIsR0FBRyxJQUFJLGNBQU8sRUFBUSxDQUFDO1FBQzVDLDZCQUF3QixHQUFHLElBQUksY0FBTyxFQUFRLENBQUM7UUFHeEQsaUJBQVksR0FBNkIsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUVuRCxrQkFBYSxHQUFrQixJQUFJLGFBQWEsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUVyRCxzQkFBaUIsR0FBRyxJQUFJLGNBQU8sRUFBeUIsQ0FBQztRQUlqRSxVQUFLLEdBQVUsSUFBSTtZQUtqQix3QkFBNkIsS0FBZ0I7Z0JBQWhCLFVBQUssR0FBTCxLQUFLLENBQVc7Z0JBSjdDLGdCQUFXLEdBQXVCLElBQUksQ0FBQztnQkFFdkMsWUFBTyxHQUFHLEtBQUssQ0FBQztZQUdoQixDQUFDO1lBRUQsbUNBQVUsR0FBVixVQUFXLGFBRVY7Z0JBQ0MsT0FBTztZQUNULENBQUM7WUFFRCxrQ0FBUyxHQUFUO2dCQUNFLE9BQU87WUFD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